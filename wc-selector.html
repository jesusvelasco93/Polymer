<dom-module id="wc-selector">
    <template>
        <style>
        .div-button {
            text-align: center;
        }
        
        .button {
            width: 90%;
            height: 25px;
            font-size: 20px;
            color: var(--color);
            background-color: var(--background-color);
            border-color: var(--border-color);
        }

        </style>
        <div class="div-button">
            <button class="button" id="btn" on-tap="onBtnTap" value="b"><b>Cambiar peliculas<b></button>
        </div>
    </template>
    <script>
    (function() {
        WCSelector = Polymer({
            is: 'wc-selector',
            properties: {
                key: {
                    type: String,
                },
                data: {
                    type: Array,
                    //value: this.moviesb,
                    notify: true
                },
                datb: {
                    type: Array,
                    //value: this.moviesb,
                    notify: true
                },
                selected: {
                    type: Number,
                    value: 0
                }
            },
            ready: function() {
                this.async(function(){
                    // console.log(Polymer.dom(this).children[this.selected].movies);
                    this.data = Polymer.dom(this).children[this.selected].movies;
                    this.datb = Polymer.dom(this).children[this.selected + 1].movies;
                }, 500);
            },
            onBtnTap: function(e) {
                e.stopPropagation();
                // console.log(Polymer.dom(this).children);
                var lengthArray = Polymer.dom(this).children.length;
                this.selected = (this.selected + 1) % lengthArray;
                console.log("SELECTED", this.selected);
                var a = Polymer.dom(this).children;
                console.log(Polymer.dom(this).children);
                this.data = Polymer.dom(this).children[this.selected].movies;
                this.datb = Polymer.dom(this).children[((this.selected + 1) % lengthArray)].movies;
                console.log("SELECTED MOVIES", this.data);
                // this.fire ('change', {title:this.title, time:e.target.value});
            },
        });
    })();
    </script>
</dom-module>
